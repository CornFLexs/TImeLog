
<div class="back">
<mat-card align="center" class="container">

  <mat-card-actions align="end">
    <button mat-raised-button color="primary" (click)="onLogout()" class="logout"> <mat-icon>logout</mat-icon> logout </button>
  </mat-card-actions>

  <mat-card-content>
    <mat-form-field align="center" class="datepicker">
      <input matInput [matDatepicker]="mydatepicker" [(ngModel)]="todayDate">
      <mat-datepicker-toggle [for]="mydatepicker" matSuffix></mat-datepicker-toggle>
      <mat-datepicker #mydatepicker></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button color="primary" class="load" (click)="loadData()"> <mat-icon>refresh</mat-icon>LOAD</button>

    <button mat-raised-button color="primary" class="export" (click)="exportAreaAsPNG('chart')"><mat-icon>image</mat-icon> Export As PNG</button>

    <mat-divider></mat-divider>

    <mat-form-field class="datalabel" floatLabel="always">
      <mat-label>Start Time</mat-label>
      <input matInput [(ngModel)]="st" type="time" name="Starttime">
    </mat-form-field>

    <mat-form-field class="datalabel" floatLabel="always">
      <mat-label>End Time</mat-label>
      <input matInput [(ngModel)]="et" type="time" name="Endtime">
    </mat-form-field>

    <mat-form-field class="datalabel1" floatLabel="always">
      <mat-label>Task</mat-label>
      <input matInput [(ngModel)]="td" name="Description" autocomplete="off">
    </mat-form-field>

    <button mat-raised-button color="primary" (click)="addtask()" *ngIf="!edit" class="addedit"><mat-icon>add</mat-icon> add</button>
    <button mat-raised-button color="primary" (click)="addtask()" *ngIf="edit" class="addedit"><mat-icon>edit</mat-icon> edit</button>

    <mat-divider></mat-divider>

    <div  id="chart" class="table-container" >
      <table class="table">
        <thead>
          <tr>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Minutes</th>
            <th class="task-description">Task Description</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let elem of DATA">
            <td>{{ elem.Starttime }}</td>
            <td>{{ elem.Endtime }}</td>
            <td>{{ elem.Minute }}</td>
            <td class="task-description">{{ elem.Taskdesc }}</td>
            <td>
              <button mat-mini-fab  color="primary" (click)="edittask(elem)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-mini-fab color="warn" class="delete" (click)="deletetask(elem)" >
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      </div>
  </mat-card-content>

</mat-card>

</div>
